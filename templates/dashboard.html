{% extends "layout.html" %}
{% block body %}
    <!-- Page Header -->
    <header class="masthead" style="background-image: url('{{ url_for('static', filename='img/dashboard.jpg') }}')">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <div class="site-heading">
              <h1>Admin Panel</h1>
              <span class="subheading">We Are Managing Your Posts</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Todo: Fetch it using for loop from the database -->

    <!-- Main Content -->
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <h3>upload a file</h3>
          <form action="/uploader" method="post" enctype="multipart/form-data">
            <input type="file" name="img_file" class="form-group control">
            <button type="submit" class="btn btn-warning">Submit</button>
          </form>
          <hr>
          <h2> Actions</h2>
          <a href="/edit/0"><button  type="button" class="btn btn-primary">Add a New Posts</button></a>
          
          <hr>
          <h3>Edit Your Posts</h3>

  <table class="table  table-striped">
  <thead>
    <tr>
      <th >SNO</th>
      <th >TITLE</th>
      <th >DATE</th>
      <th> Image File</th>
      <th >EDIT</th>
      <th >DELETE</th>
    </tr>
  </thead>
  <tbody>

    {% for post in posts %}
    <tr>
      <td>{{post.sno}}</td>
      <td>{{post.title}}</td>
      <td>{{post.date}}</td>
      <td>{{post.img_file}}</td>
      <td><a href="/edit/{{post.sno}}"><button type="button" class="btn btn-primary">Edit</button></a></td>
      <td><a href="/delete/{{post.sno}}"><button type="button" class="btn btn-danger">Delete</button></a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>     
          <!-- Pager -->
        </div>
      </div>
    </div>
    {% endblock %}